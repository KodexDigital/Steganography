
@{
    ViewData["Title"] = "StegIn";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" type="text/css">

<style>
    h5 {
        margin: 50px 0;
    }
    .file-drop-area {
        position: relative;
        display: flex;
        align-items: center;
        width: 100%;
        height:200px;
        max-width: 100%;
        padding: 25px;
        border: 2px dashed;
        border-color:red;
        /* background-color:peru */
        border-radius: 3px;
        transition: 0.2s;
    }

    .choose-file-button {
        flex-shrink: 0;
        background-color: rgba(255, 255, 255, 0.04);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 3px;
        padding: 8px 15px;
        margin-right: 10px;
        font-size: 12px;
        text-transform: uppercase;
    }

    .file-message {
        font-size: small;
        font-weight: 300;
        line-height: 1.4;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .file-input {
        position: absolute;
        left: 0;
        top: 0;
        height: 100%;
        width: 100%;
        cursor: pointer;
        opacity: 0;
    }

    .mt-100 {
        margin-top: 100px;
    }
</style>
    
<h1>Steg In</h1>

<div class="mt-50">
    <div style="text-align:center"><h5>UPLOAD IMAGE FILE TO SECURE YOUR MESSAGE</h5></div>
    <div class="row">
        <div class="col-md-7">
            <form asp-action="StegIn" asp-controller="Stego" method="post" enctype="multipart/form-data">
                <div class="file-drop-area">
                    <span class="choose-file-button">Choose a file</span>
                    <span class="file-message">or drag and drop your file here</span>
                    <input class="file-input" type="file" name="ImageFile" id="ImageFile" accept="image/*" onchange="previewImage(event)">
                </div>
                <div class="pt-4">
                    <button type="submit" class="btn btn-outline-primary rounded-pill col-md-6">StegIn</button>
                </div>
            </form>
        </div>
        <div class="col-md-5">
           <div class="card">
                <div class="card-header">Image File Previewer</div>
                <div class="card-body img-thumbnail">
                    <img id="imagePreview" src="#" alt="Image Preview" style="max-width: 100%; display: none;" />
                </div>
           </div>
        </div>
    </div>
</div>


<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>
      $(document).on('change', '.file-input', function() {
      var filesCount = $(this)[0].files.length;
      var textbox = $(this).prev();
      if (filesCount === 1) {
        var fileName = $(this).val().split('\\').pop();
        textbox.text(fileName);
      } else {
        textbox.text(filesCount + ' files selected');
      }
    });
</script>

<script>
    function previewImage(event) {
        var reader = new FileReader();
        reader.onload = function () {
            var output = document.getElementById('imagePreview');
            output.src = reader.result;
            output.style.display = 'block';
        };
        reader.readAsDataURL(event.target.files[0]);
    }
</script>